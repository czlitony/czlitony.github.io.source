---
title: Notes
categories : other
tags : [samba]
---

本文主要记录平时遇到的一些杂碎的东西。

<!-- more -->

## 1. Python实现xslt
~~~
#!/usr/bin/env python3
# coding=utf-8
# Created Time: 2016-06-20

__author__ = 'Matthew Gao'

import lxml.etree as ET
import pprint



def parse():
    pp = pprint.PrettyPrinter(indent=4)
    xml_filename = 'amc_one_of_everything.xml'
    xsl_filename = 'phonehometranslator.xsl'

    dom = ET.parse(xml_filename)
    xslt = ET.parse(xsl_filename)
    transform = ET.XSLT(xslt)
    newdom = transform(dom)
    # print(ET.tostring(newdom, pretty_print=True))
    pp.pprint(ET.tostring(newdom, pretty_print=True).decode())

    print(transform.error_log)

    for entry in transform.error_log:
        print('message from line %s, col %s: %s' % (entry.line, entry.column, entry.message))
        print('domain: %s (%d)' % (entry.domain_name, entry.domain))
        print('type: %s (%d)' % (entry.type_name, entry.type))
        print('level: %s (%d)' % (entry.level_name, entry.level))
        print('filename: %s' % entry.filename)

if __name__ == "__main__":
    parse()
~~~